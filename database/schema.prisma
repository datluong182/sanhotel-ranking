datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model tbObject {
  id                String        @id @default(uuid())
  name              String
  url               String
  score             Float
  numberScoreReview Int[]
  updatedAt         DateTime
  extra             Json
  platform          PLATFORM
  tbObjectLog       tbObjectLog[]
}

enum PLATFORM {
  TRIP
  BOOKING
  GOOGLE
  EXPEDIA
}

model tbObjectLog {
  id                String   @id @default(uuid())
  name              String
  url               String
  score             Float
  numberScoreReview Int[]
  updatedAt         DateTime
  extra             Json
  platform          PLATFORM
  isManual          Boolean
  tbObject          tbObject @relation(fields: [tbObjectId], references: [id], onDelete: Cascade)
  tbObjectId        String
}

model tbLastUpdate {
  id        String   @id @default(uuid())
  platform  PLATFORM
  updatedAt DateTime
  isManual  Boolean
}
